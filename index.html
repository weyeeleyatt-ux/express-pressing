<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Express Pressing</title>

  <style>
    :root{
      --bg:#ffffff;
      --text:#111111;
      --muted:#5a5a5a;
      --line:#e8e8e8;
      --card:#ffffff;
      --black:#000000;
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      padding:16px;
      font-family: system-ui, -apple-system, "Segoe UI", Arial;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{max-width:720px;margin:0 auto;}
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.06);
    }
    .header{
      display:flex;gap:12px;align-items:center;
      border-bottom:1px solid var(--line);
      padding-bottom:12px;margin-bottom:12px;
    }
    .logo{
      width:72px;height:72px;border:1px solid var(--line);
      border-radius:16px;display:grid;place-items:center;
      background:#fff;
      flex:0 0 auto;
    }
    h1{margin:0;font-size:22px;letter-spacing:.3px}
    .sub{margin-top:6px;color:var(--muted);font-size:13px;line-height:1.6}
    .info{
      padding:12px;border:1px dashed var(--line);border-radius:14px;
      color:var(--muted);font-size:13px;line-height:1.7;
      background:#fafafa;
      margin:12px 0;
    }

    label{display:block;margin-top:12px;margin-bottom:6px;font-weight:800;font-size:14px}
    input, select, textarea{
      width:100%;
      padding:12px;
      border:1px solid var(--line);
      border-radius:14px;
      font-size:16px;
      outline:none;
      background:#fff;color:var(--text);
    }
    textarea{min-height:84px;resize:vertical}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:560px){ .grid{grid-template-columns:1fr} }

    .serviceBox{
      margin-top:10px;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background:#fafafa;
    }
    .serviceTitle{margin:0 0 6px;font-weight:900}
    .serviceDesc{margin:0;color:var(--muted);line-height:1.7}

    .totalRow{
      margin-top:12px;
      display:flex;justify-content:space-between;align-items:center;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      font-weight:900;
      background:#fff;
    }

    .pay{
      margin-top:12px;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background:#fafafa;
      color:var(--muted);
      font-size:13px;line-height:1.7;
    }

    .row{
      display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:10px;
    }
    .check{
      display:flex;align-items:center;gap:8px;
      border:1px solid var(--line);
      border-radius:999px;
      padding:8px 10px;
      background:#fff;
      color:var(--text);
      font-size:13px;
    }
    .codeBox{
      margin-top:10px;
      display:none;
      border:1px dashed var(--line);
      border-radius:14px;
      padding:12px;
      background:#fff;
      justify-content:space-between;align-items:center;gap:10px;
    }
    .code{
      font-family: ui-monospace, Menlo, Consolas, monospace;
      font-weight:900;
      letter-spacing:1px;
      font-size:16px;
    }

    .btn{
      width:100%;
      margin-top:12px;
      border:none;
      border-radius:16px;
      padding:14px;
      font-size:16px;
      font-weight:900;
      cursor:pointer;
    }
    .btnBlack{background:#000;color:#fff}
    .btnGhost{background:#fff;border:1px solid var(--line);color:#000}

    .warn{
      display:none;
      margin-top:10px;
      border:1px solid #ffd0d0;
      background:#fff5f5;
      color:#7a1b1b;
      padding:10px 12px;
      border-radius:14px;
      font-size:13px;
      line-height:1.6;
    }

    .mini{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.7}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">

      <div class="header">
        <!-- Ù„ÙˆØºÙˆ Ø£Ø³ÙˆØ¯ Ù…Ø±Ø³ÙˆÙ… Ø¨Ø§Ù„ÙƒÙˆØ¯ (Ø¨Ø¯ÙˆÙ† Ø±ÙØ¹ ØµÙˆØ±) -->
        <div class="logo" aria-label="Express Pressing Logo">
          <svg width="48" height="48" viewBox="0 0 64 64" fill="none" aria-hidden="true">
            <path d="M20 14h24a6 6 0 0 1 6 6v20c0 6-4 10-10 10H24c-6 0-10-4-10-10V20a6 6 0 0 1 6-6Z" stroke="#000" stroke-width="4" />
            <path d="M24 26h16" stroke="#000" stroke-width="4" stroke-linecap="round"/>
            <path d="M24 34h20" stroke="#000" stroke-width="4" stroke-linecap="round"/>
            <path d="M26 52c2 4 10 6 16 0" stroke="#000" stroke-width="4" stroke-linecap="round"/>
          </svg>
        </div>

        <div>
          <h1>EXPRESS PRESSING</h1>
          <div class="sub">
            ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ â€¢ Ù„ÙƒØµØ± - Ù†ÙˆØ§ÙƒØ´ÙˆØ·<br>
            Ø±Ù‚Ù… Ø§Ù„Ø§ØªØµØ§Ù„: 33371707
          </div>
        </div>
      </div>

      <div class="info">
        ğŸ’³ Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø¨Ù†ÙƒÙŠØ©: Ø¨Ù†ÙŠÙƒÙ„ÙŠ / Ù…ØµØ±ÙÙŠ / Ø³Ø¯Ø§Ø¯<br>
        ğŸ§¾ Ø±Ù‚Ù… Ø§Ù„Ø¯ÙØ¹: <b>33371707</b>
      </div>

      <div class="grid">
        <div>
          <label>Ø§Ù„Ø§Ø³Ù…</label>
          <input id="name" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ" />
        </div>
        <div>
          <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
          <input id="phone" type="tel" placeholder="Ù…Ø«Ø§Ù„: 33371707" />
        </div>
      </div>

      <div class="grid">
        <div>
          <label>Ø§Ù„Ø®Ø¯Ù…Ø©</label>
          <select id="service">
            <option value="250" data-title="ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø­Ù ÙƒØ§Ø²" data-unit="Ù„Ù„Ù‚Ø·Ø¹Ø©" data-desc="ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø­Ù ÙƒØ§Ø² Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">250 MRU â€” ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø­Ù ÙƒØ§Ø²</option>
            <option value="300" data-title="ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø­Ù ØºÙŠØ± ÙƒØ§Ø²" data-unit="Ù„Ù„Ù‚Ø·Ø¹Ø©" data-desc="ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø­Ù ØºÙŠØ± ÙƒØ§Ø² Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">300 MRU â€” ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø­Ù ØºÙŠØ± ÙƒØ§Ø²</option>
            <option value="600" data-title="ØºØ³ÙŠÙ„ Ø¯Ø±Ø§Ø¹Ø©" data-unit="Ù„Ù„Ù‚Ø·Ø¹Ø©" data-desc="ØºØ³ÙŠÙ„ ÙˆØªÙ†Ø¸ÙŠÙ Ø¯Ø±Ø§Ø±ÙŠØ¹ Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©">600 MRU â€” ØºØ³ÙŠÙ„ Ø¯Ø±Ø§Ø¹Ø©</option>
            <option value="100" data-title="ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø¨Ø³" data-unit="Ù„Ù„Ù‚Ø·Ø¹Ø©" data-desc="ØºØ³ÙŠÙ„ Ø¹Ø§Ø¯ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³">100 MRU â€” ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø¨Ø³</option>
          </select>
        </div>

        <div>
          <label>Ø§Ù„ÙƒÙ…ÙŠØ© (1 - 100)</label>
          <input id="qty" type="number" min="1" max="100" value="1" />
        </div>
      </div>

      <div class="serviceBox" id="serviceBox">
        <p class="serviceTitle" id="serviceTitle">â€”</p>
        <p class="serviceDesc" id="serviceDesc">â€”</p>
      </div>

      <div class="totalRow">
        <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</span>
        <span id="total">0 MRU</span>
      </div>

      <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
      <textarea id="address" placeholder="Ø§Ù„Ø­ÙŠ - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø©..."></textarea>

      <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      <textarea id="notes" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø³ØªØ¹Ø¬Ù„ / Ø¨Ø¯ÙˆÙ† Ø¹Ø·Ø± / Ø¨Ù‚Ø¹..."></textarea>

      <div class="pay">
        ğŸ“¸ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹: Ø§Ø±ÙØ¹ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ Ù‡Ù†Ø§ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø«Ù… Ø§Ø¶ØºØ· â€œØªÙ… Ø§Ù„Ø¯ÙØ¹â€ Ù„ÙŠØ·Ù„Ø¹ ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨.<br>
        âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©: Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø§ ÙŠØ±Ø³Ù„ Ø§Ù„ØµÙˆØ±Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ØŒ Ù„Ø§Ø²Ù… Ø§Ù„Ø²Ø¨ÙˆÙ† ÙŠØ±ÙÙ‚Ù‡Ø§ ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø¯Ø§Ø®Ù„ ÙˆØ§ØªØ³Ø§Ø¨ Ø¨Ø¹Ø¯ Ù…Ø§ ØªÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.
      </div>

      <label>Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      <input id="payShot" type="file" accept="image/*" />

      <div class="row">
        <label class="check">
          <input id="paid" type="checkbox" />
          ØªÙ… Ø§Ù„Ø¯ÙØ¹
        </label>
        <button class="btn btnGhost" id="genCodeBtn" type="button">Ø¥ØµØ¯Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
      </div>

      <div class="codeBox" id="codeBox">
        <div>
          <div style="color:#666;font-size:12px;margin-bottom:4px;">ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨</div>
          <div class="code" id="orderCode">XP-0000</div>
        </div>
        <button class="btn btnGhost" id="copyBtn" type="button" style="width:auto;margin:0;padding:10px 12px;">Ù†Ø³Ø®</button>
      </div>

      <div class="warn" id="warn"></div>

      <button class="btn btnBlack" id="waBtn" type="button">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>

      <div class="mini">
        âœ… ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ â€¢ Ù…ÙˆÙ‚Ø¹: Ù„ÙƒØµØ± Ù†ÙˆØ§ÙƒØ´ÙˆØ· â€¢ Ø±Ù‚Ù…: 33371707
      </div>
    </div>
  </div>

  <script>
    // ØºÙŠÙ‘Ø± Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø§Ø²Ù… (ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙˆÙ„Ø© + Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¯ÙˆÙ† +)
    const WHATSAPP_NUMBER = "22233371707";

    const serviceEl = document.getElementById("service");
    const qtyEl = document.getElementById("qty");
    const totalEl = document.getElementById("total");
    const titleEl = document.getElementById("serviceTitle");
    const descEl = document.getElementById("serviceDesc");

    const paidEl = document.getElementById("paid");
    const payShotEl = document.getElementById("payShot");
    const genCodeBtn = document.getElementById("genCodeBtn");
    const codeBox = document.getElementById("codeBox");
    const orderCodeEl = document.getElementById("orderCode");
    const copyBtn = document.getElementById("copyBtn");
    const warnEl = document.getElementById("warn");

    const nameEl = document.getElementById("name");
    const phoneEl = document.getElementById("phone");
    const addressEl = document.getElementById("address");
    const notesEl = document.getElementById("notes");
    const waBtn = document.getElementById("waBtn");

    let ORDER_CODE = "";

    function warn(msg){
      warnEl.style.display = "block";
      warnEl.textContent = msg;
      setTimeout(()=>{ warnEl.style.display = "none"; }, 3500);
    }

    function clampQty(){
      let q = parseInt(qtyEl.value || "1", 10);
      if (isNaN(q)) q = 1;
      if (q < 1) q = 1;
      if (q > 100) q = 100;
      qtyEl.value = q;
      return q;
    }

    function getService(){
      const opt = serviceEl.options[serviceEl.selectedIndex];
      return {
        price: parseInt(opt.value || "0", 10),
        title: opt.dataset.title || opt.text,
        unit: opt.dataset.unit || "",
        desc: opt.dataset.desc || ""
      };
    }

    function update(){
      const s = getService();
      const q = clampQty();
      titleEl.textContent = `${s.price} MRU â€” ${s.title} (${s.unit})`;
      descEl.textContent = s.desc;
      totalEl.textContent = `${s.price * q} MRU`;
    }

    function makeCode(){
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,"0");
      const day = String(d.getDate()).padStart(2,"0");
      const rnd = Math.floor(1000 + Math.random() * 9000);
      return `XP-${y}${m}${day}-${rnd}`;
    }

    genCodeBtn.addEventListener("click", ()=>{
      // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ ØªØ¬Ø¨Ø±Ù‡Ù… ÙŠØ­Ø¯Ø¯ÙˆØ§ "ØªÙ… Ø§Ù„Ø¯ÙØ¹"
      if(!paidEl.checked){
        warn("ÙØ¹Ù‘Ù„ Ø®ÙŠØ§Ø± (ØªÙ… Ø§Ù„Ø¯ÙØ¹) Ø£ÙˆÙ„Ø§Ù‹ âœ…");
        return;
      }

      // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ ØªØ¬Ø¨Ø±Ù‡Ù… ÙŠØ±ÙØ¹ÙˆØ§ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ù‚Ø¨Ù„ Ø§Ù„ÙƒÙˆØ¯
      // if(!(payShotEl.files && payShotEl.files.length)){ warn("Ø§Ø±ÙØ¹ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ Ø£ÙˆÙ„Ø§Ù‹"); return; }

      if(!ORDER_CODE) ORDER_CODE = makeCode();
      orderCodeEl.textContent = ORDER_CODE;
      codeBox.style.display = "flex";
      warn("ØªÙ… Ø¥ØµØ¯Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨ âœ…");
    });

    copyBtn.addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(orderCodeEl.textContent);
        warn("ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…");
      }catch{
        warn("Ø§Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¯ÙˆÙŠÙ‹Ø§");
      }
    });

    waBtn.addEventListener("click", ()=>{
      const name = nameEl.value.trim();
      const phone = phoneEl.value.trim();
      const address = addressEl.value.trim();
      const notes = notesEl.value.trim();

      if(!name || !phone || !address){
        warn("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… + Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ + Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø£ÙˆÙ„Ø§Ù‹");
        return;
      }

      const s = getService();
      const q = clampQty();
      const total = s.price * q;

      // Ù„Ùˆ Ù…Ø§ Ø·Ù„Ø¹ ÙƒÙˆØ¯ ÙˆÙ„Ø³Ù‡ Ø¹Ø§Ù…Ù„ ØªÙ… Ø§Ù„Ø¯ÙØ¹ â†’ Ù†Ø·Ù„Ø¹ ÙƒÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ
      if(paidEl.checked && !ORDER_CODE){
        ORDER_CODE = makeCode();
        orderCodeEl.textContent = ORDER_CODE;
        codeBox.style.display = "flex";
      }

      const hasShot = (payShotEl.files && payShotEl.files.length) ? "âœ… ÙŠÙˆØ¬Ø¯ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª (ÙŠØ±Ø³Ù„ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨)" : "âš ï¸ Ø¨Ø¯ÙˆÙ† Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª (ÙŠØ±Ø³Ù„ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹)";
      const codeLine = ORDER_CODE ? `ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨: ${ORDER_CODE}` : "ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨: (ØºÙŠØ± ØµØ§Ø¯Ø± Ø¨Ø¹Ø¯)";

      const msg =
`Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - EXPRESS PRESSING
Ø§Ù„Ø§Ø³Ù…: ${name}
Ø§Ù„Ù‡Ø§ØªÙ: ${phone}

Ø§Ù„Ø®Ø¯Ù…Ø©: ${s.title}
Ø§Ù„Ø³Ø¹Ø±: ${s.price} MRU (${s.unit})
Ø§Ù„ÙƒÙ…ÙŠØ©: ${q}
Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total} MRU

Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}
Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes || "â€”"}

Ø§Ù„Ø¯ÙØ¹: ${paidEl.checked ? "ØªÙ… Ø§Ù„Ø¯ÙØ¹ âœ…" : "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¹Ø¯"}
${hasShot}
${codeLine}

Ø±Ù‚Ù… Ø§Ù„Ø¯ÙØ¹: 33371707
(Ø£Ø±ÙÙ‚ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ Ù‡Ù†Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨)`;

      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    });

    serviceEl.addEventListener("change", update);
    qtyEl.addEventListener("input", update);
    update();
  </script>
</body>
</html>
