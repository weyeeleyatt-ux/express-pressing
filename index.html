<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Express Pressing</title>

  <style>
    :root{
      --bg:#000;
      --card:#0b0b0b;
      --text:#fff;
      --muted:#bdbdbd;
      --line:#222;
      --accent:#2d6cff;
      --accent2:#15c16f;
      --danger:#ff4d4d;
      --radius:18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
      background: radial-gradient(1200px 600px at 50% -200px, #222 0%, #000 60%);
      color:var(--text);
      padding:18px;
    }

    .wrap{
      max-width:680px;
      margin:0 auto;
    }

    .card{
      background: linear-gradient(180deg, #0b0b0b 0%, #050505 100%);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:18px;
      box-shadow: 0 12px 36px rgba(0,0,0,.45);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      margin-bottom:14px;
    }
    .brand img{
      width:64px;
      height:64px;
      border-radius:16px;
      object-fit:cover;
      border:1px solid #333;
      background:#111;
    }
    .brand h1{
      margin:0;
      font-size:28px;
      letter-spacing:.5px;
    }
    .brand p{
      margin:6px 0 0 0;
      color:var(--muted);
      font-size:14px;
    }

    .info{
      margin:10px 0 16px 0;
      padding:12px;
      border:1px solid var(--line);
      border-radius:14px;
      background:#070707;
      color:#eaeaea;
      line-height:1.8;
      font-size:14px;
    }

    label{
      display:block;
      margin:12px 0 8px;
      font-weight:700;
      font-size:14px;
    }

    input, select, textarea{
      width:100%;
      padding:13px 12px;
      border-radius:14px;
      border:1px solid #2a2a2a;
      background:#0d0d0d;
      color:#fff;
      outline:none;
      font-size:15px;
    }

    input::placeholder, textarea::placeholder{color:#777}

    textarea{min-height:90px; resize:vertical}

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width:560px){
      .row{grid-template-columns:1fr}
      .brand h1{font-size:24px}
    }

    .priceBox{
      margin-top:14px;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#070707;
      display:grid;
      gap:6px;
      font-size:14px;
    }
    .priceBox b{font-size:16px}

    .badge{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid #2a2a2a;
      background:#0f0f0f;
      color:#ddd;
      font-size:12px;
      margin-top:10px;
    }

    .btn{
      width:100%;
      border:none;
      border-radius:16px;
      padding:14px 14px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      margin-top:12px;
    }
    .btnPrimary{background:var(--accent); color:#fff}
    .btnGreen{background:var(--accent2); color:#001b0d}
    .btnGhost{
      background:transparent;
      border:1px solid #2a2a2a;
      color:#fff;
    }

    .small{
      margin-top:10px;
      color:var(--muted);
      font-size:13px;
      line-height:1.6;
    }

    .codeBox{
      margin-top:12px;
      padding:12px;
      border-radius:14px;
      border:1px dashed #2f2f2f;
      background:#060606;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .codeBox .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size:16px;
      font-weight:900;
      letter-spacing:1px;
    }
    .warn{
      color:#ffd1d1;
      background:rgba(255,77,77,.12);
      border:1px solid rgba(255,77,77,.25);
      padding:10px 12px;
      border-radius:14px;
      margin-top:12px;
      display:none;
    }

    .footerNote{
      text-align:center;
      color:#777;
      font-size:12px;
      margin-top:14px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">

      <div class="brand">
        <!-- Ø¶Ø¹ Ù…Ù„Ù logo.png Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ø±ÙŠØ¨Ùˆ -->
        <img src="logo.png" alt="Express Pressing Logo" />
        <div>
          <h1>Express Pressing</h1>
          <p>~ Fresh â€¢ Fast â€¢ Clean ~</p>
        </div>
      </div>

      <div class="info">
        ğŸ“ Ù„ÙƒØµØ± - Ù†ÙˆØ§ÙƒØ´ÙˆØ·<br>
        ğŸšš ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ<br>
        â˜ï¸ 33371707<br>
        ğŸ’³ Ø§Ù„Ø¯ÙØ¹: Ø¨Ù†ÙƒÙŠÙ„ÙŠ / Ù…ØµØ±ÙÙŠ / Ø³Ø¯Ø§Ø¯<br>
        ğŸ§¾ Ø±Ù‚Ù… Ø§Ù„Ø¯ÙØ¹: 33371707
        <div class="badge">Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹: Ø§Ø±ÙØ¹ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª ÙˆØ³ÙŠØ·Ù„Ø¹ Ù„Ùƒ ÙƒÙˆØ¯</div>
      </div>

      <div class="row">
        <div>
          <label>Ø§Ù„Ø§Ø³Ù…</label>
          <input id="name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ" />
        </div>
        <div>
          <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
          <input id="phone" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: 33371707" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Ø§Ù„Ø®Ø¯Ù…Ø©</label>
          <!-- Ø§Ù„Ù‚ÙŠÙ…Ø© = Ø³Ø¹Ø± Ø§Ù„Ù‚Ø·Ø¹Ø© -->
          <select id="service">
            <option value="250">ØºØ³ÙŠÙ„ Ù…Ù„Ø§Ø¨Ø³ â€” 250 MRU</option>
            <option value="300">ØºØ³ÙŠÙ„ + ÙƒÙˆÙŠ â€” 300 MRU</option>
            <option value="100">ÙƒÙˆÙŠ ÙÙ‚Ø· â€” 100 MRU</option>
          </select>
        </div>

        <div>
          <label>Ø§Ù„ÙƒÙ…ÙŠØ© (1 - 100)</label>
          <input id="qty" type="number" min="1" max="100" value="1" />
        </div>
      </div>

      <div class="priceBox">
        <div>Ø³Ø¹Ø± Ø§Ù„Ù‚Ø·Ø¹Ø©: <b id="unitPrice">0</b> MRU</div>
        <div>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <b id="totalPrice">0</b> MRU</div>
      </div>

      <label>ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      <textarea id="details" placeholder="Ù…Ø«Ø§Ù„: Ù…Ù„Ø§Ø¨Ø³ Ø¨ÙŠØ¶Ø§Ø¡ØŒ Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„Ø¹Ø·Ø±..."></textarea>

      <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
      <textarea id="address" placeholder="Ø§Ù„Ø­ÙŠ - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø©"></textarea>

      <label>Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      <input id="payShot" type="file" accept="image/*" />

      <button class="btn btnGreen" id="genCodeBtn">âœ… Ø·Ù„Ù‘Ø¹ ÙƒÙˆØ¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹</button>

      <div class="codeBox" id="codeBox" style="display:none;">
        <div>
          <div style="color:#aaa; font-size:12px;">ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨</div>
          <div class="code" id="orderCode">XP-0000</div>
        </div>
        <button class="btn btnGhost" style="width:auto; margin:0; padding:10px 12px;" id="copyBtn">Ù†Ø³Ø®</button>
      </div>

      <div class="warn" id="warnBox"></div>

      <button class="btn btnPrimary" id="waBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>

      <div class="small">
        Ù…Ù„Ø§Ø­Ø¸Ø©: ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø§ ÙŠÙ‚Ø¯Ø± ÙŠØ±Ø³Ù„ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹.  
        Ø¨Ø¹Ø¯ Ù…Ø§ ÙŠÙØªØ­ Ù„Ùƒ ÙˆØ§ØªØ³Ø§Ø¨ØŒ Ø£Ø±Ø³Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ ÙˆØ¨Ø¹Ø¯Ù‡Ø§ Ø§Ø±ÙÙ‚ Ø§Ù„Ø³ÙÙƒØ±ÙŠÙ†Ø´ÙˆØª ÙŠØ¯ÙˆÙŠÙ‹Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨.
      </div>

      <div class="footerNote">Â© Express Pressing</div>
    </div>
  </div>

  <script>
    // === Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ (Ø¨Ø¯Ù‘Ù„ Ø§Ù„Ø±Ù‚Ù… Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ) ===
    // Ù…Ù‡Ù…: Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø¨ØµÙŠØºØ© Ø¯ÙˆÙ„ÙŠØ© Ø¨Ø¯ÙˆÙ† + ÙˆÙ„Ø§ Ù…Ø³Ø§ÙØ§Øª
    // Ù…Ø«Ø§Ù„ Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§: 22233371707 (222 + Ø§Ù„Ø±Ù‚Ù…)
    const WHATSAPP_NUMBER = "22233371707";

    const serviceEl = document.getElementById("service");
    const qtyEl = document.getElementById("qty");
    const unitPriceEl = document.getElementById("unitPrice");
    const totalPriceEl = document.getElementById("totalPrice");

    const nameEl = document.getElementById("name");
    const phoneEl = document.getElementById("phone");
    const detailsEl = document.getElementById("details");
    const addressEl = document.getElementById("address");
    const payShotEl = document.getElementById("payShot");

    const genCodeBtn = document.getElementById("genCodeBtn");
    const codeBox = document.getElementById("codeBox");
    const orderCodeEl = document.getElementById("orderCode");
    const copyBtn = document.getElementById("copyBtn");
    const warnBox = document.getElementById("warnBox");
    const waBtn = document.getElementById("waBtn");

    let ORDER_CODE = "";

    function showWarn(msg){
      warnBox.style.display = "block";
      warnBox.textContent = msg;
      setTimeout(()=>{ warnBox.style.display = "none"; }, 3500);
    }

    function calcPrice(){
      const unit = parseInt(serviceEl.value || "0", 10);
      let qty = parseInt(qtyEl.value || "1", 10);

      if(isNaN(qty)) qty = 1;
      if(qty < 1) qty = 1;
      if(qty > 100) qty = 100;
      qtyEl.value = qty;

      unitPriceEl.textContent = unit;
      totalPriceEl.textContent = unit * qty;
    }

    function makeCode(){
      // ÙƒÙˆØ¯ Ø¨Ø³ÙŠØ·: XP- + 4 Ø£Ø±Ù‚Ø§Ù…
      const num = Math.floor(1000 + Math.random() * 9000);
      return "XP-" + num;
    }

    function hasPaymentProof(){
      // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ù†Ø¹ØªØ¨Ø± Ø§Ù„Ø¯ÙØ¹ Ù…ÙˆØ¬ÙˆØ¯ Ø¥Ø°Ø§ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø£Ùˆ ÙƒØªØ¨ "ØªÙ… Ø§Ù„Ø¯ÙØ¹" ÙÙŠ Ø§Ù„ØªÙØ§ØµÙŠÙ„
      return (payShotEl.files && payShotEl.files.length > 0);
    }

    genCodeBtn.addEventListener("click", (e)=>{
      e.preventDefault();

      // Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ "Ø¥Ø¬Ø¨Ø§Ø±ÙŠ" Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ù‚Ø¨Ù„ Ø§Ù„ÙƒÙˆØ¯:
      // if(!hasPaymentProof()){ showWarn("Ù„Ø§Ø²Ù… ØªØ±ÙØ¹ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ Ø£ÙˆÙ„Ø§Ù‹"); return; }

      if(!ORDER_CODE) ORDER_CODE = makeCode();
      orderCodeEl.textContent = ORDER_CODE;
      codeBox.style.display = "flex";
      showWarn("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯ âœ…");
    });

    copyBtn.addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(orderCodeEl.textContent);
        showWarn("ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…");
      }catch{
        showWarn("Ø§Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¯ÙˆÙŠÙ‹Ø§");
      }
    });

    waBtn.addEventListener("click", ()=>{
      const name = (nameEl.value || "").trim();
      const phone = (phoneEl.value || "").trim();
      const serviceText = serviceEl.options[serviceEl.selectedIndex].text;
      const qty = qtyEl.value;
      const unit = unitPriceEl.textContent;
      const total = totalPriceEl.textContent;
      const details = (detailsEl.value || "").trim();
      const address = (addressEl.value || "").trim();

      if(!name || !phone || !address){
        showWarn("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… + Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ + Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø£ÙˆÙ„Ø§Ù‹");
        return;
      }

      if(!ORDER_CODE){
        // ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù†Ø·Ù„Ø¹ ÙƒÙˆØ¯ Ø¥Ø°Ø§ Ù…Ø§ Ø·Ù„Ø¹ØªÙ‡
        ORDER_CODE = makeCode();
        orderCodeEl.textContent = ORDER_CODE;
        codeBox.style.display = "flex";
      }

      const payNote = hasPaymentProof()
        ? "âœ… ØªÙ… Ø±ÙØ¹ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ (Ø§Ø±Ø³Ù„Ù‡Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨)"
        : "âš ï¸ Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª (Ø§Ø±Ø³Ù„Ù‡Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹)";

      const msg =
`Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Express Pressing
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
Ø§Ù„Ø§Ø³Ù…: ${name}
Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${phone}
Ø§Ù„Ø®Ø¯Ù…Ø©: ${serviceText}
Ø§Ù„ÙƒÙ…ÙŠØ©: ${qty}
Ø³Ø¹Ø± Ø§Ù„Ù‚Ø·Ø¹Ø©: ${unit} MRU
Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total} MRU
Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}
ØªÙØ§ØµÙŠÙ„: ${details || "â€”"}
Ø§Ù„Ø¯ÙØ¹: ${payNote}
ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨: ${ORDER_CODE}
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
(Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ Ø£Ø±ÙÙ‚ Ø³ÙƒØ±ÙŠÙ†Ø´ÙˆØª Ø§Ù„Ø¯ÙØ¹ Ù‡Ù†Ø§ ÙÙŠ ÙˆØ§ØªØ³Ø§Ø¨)`;

      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    });

    serviceEl.addEventListener("change", calcPrice);
    qtyEl.addEventListener("input", calcPrice);
    calcPrice();
  </script>
</body>
</html>
